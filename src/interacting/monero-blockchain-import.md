---
# Импорт блокчейна Monero | monero-blockchain-import
---

>   Примечание
    Сегодня экспорт/импорт необработанных данных блокчейна используется редко. Раньше загрузка блокчейна посредством p2p сети происходила довольно медленно. И для ускорения процесса автоматической загрузки узла использовался файл blockchain.raw.

## Обзор

Инструмент, позволяющий импортировать файл автоматической загрузки `blockchain.raw` на ваш полный узел.

Он может пригодиться, если вы по какой-либо причине решите разделить загрузку и верификацию (например, чтобы провести изолированное тестирование).
В этом случае файл `blockchain.raw` можно загрузить по этой ссылке: [https://downloads.getmonero.org/blockchain.raw](https://downloads.getmonero.org/blockchain.raw).

Тем не менее в идеале следует использовать собственный проверенный файл `blockchain.raw`, который был [экспортирован](/interacting/monero-blockchain-export-reference) вами ранее.

Необходимо отметить, что импорт файла `blockchain.raw` will **не ускорит процесса синхронизации** посредством p2p сети.
Причиной служат ограничения в возможностях ввода/вывода данных диском и ограничения, связанные с верификацией, но не загрузкой.

Инструмент используется с вашей локальной версией файлов и не требует наличия запущенного демона `monerod`.

## Синтаксис

`./monero-blockchain-import [options]`

Пример:

`./monero-blockchain-import --help`

## Запуск

Необходимо перейти в директорию, в которую были распакованы файлы Monero.

`./monero-blockchain-import --stagenet --output-file=/tmp/blockchain.raw`

## Опции

### Помощь

| Опция               | Описание
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------
| `--help`            | Выводит список доступных опций.

### Выбор сети

| Опция               | Описание
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------
| (missing)           | По умолчанию `monero-blockchain-export` использует [основную сеть](/infrastructure/networks#mainnet).
| `--stagenet`        | Экспорт блокчейна в [отладочную сеть](/infrastructure/networks#stagenet).
| `--testnet`         | Экспорт блокчейна в [тестовую сеть](/infrastructure/networks#testnet).

### Журнал регистрации

Указание пути к файлу журнала не поддерживается.

| Опция               | Описание
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------
| `--log-level`       | От `0` до `4`, где `0` обозначает минимальную регистрацию данных в журнале, а `4` запись всех регистрационных данных. По умолчанию имеет значение `0`. Это общие предварительные настройки, которые не связаны напрямую с уровнями сложности. Например, при минимальном значении `0`, можно увидеть только некоторые важные данные `INFO`. Пример: <br />`./monero-blockchain-export --log-level=1`

### Вводимые данные

| Опция               | Описание
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------
| `--input-file`      | Полный путь к файлу с необработанными данными блокчейна. По умолчанию используется следующий: `$DATA_DIR/export/blockchain.raw`.
| `--block-stop`      | Экспорт данных только до указанного номера блока. По умолчанию осуществляется экспорт всех данных (значение, используемое по умолчанию, — `0`).
| `--pop-blocks`      | Сброс указанного количества блоков от конца загруженного блокчейна. По умолчанию не сбрасывается ничего (значение, используемое по умолчанию, — `0`).

### Выводимые данные

| Опция               | Описание
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------
| `--data-dir`        | Полный путь к директории данных. Здесь хранятся данные блокчейна, регистрационные файлы и данные p2p сети. Настройки, используемые по умолчанию, и более подробная информация приводятся в разделе [Директория данных](/interacting/overview/#data-directory).
| `--count-blocks`    | Осуществляет подсчёт блоков в загруженном файле.
| `--drop-hard-fork`  | Сбрасывает данные хардфорка. По умолчанию не сбрасывается ничего (значение, используемое по умолчанию, — `0`).
| `--database`        | Единственным действительным значением и используемым по умолчанию, является `lmdb`.

### Рабочие параметры

| Option                            | Description
|-----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------
| `--dangerous-unverified-import`   | По умолчанию безопаснее всего использовать верификацию (значение, используемое по умолчанию, — `0`).  Если вы импортируете собственный файл `blockchain.raw` (подразумевается, что он уже был верифицирован), то можно использовать команду `--dangerous-unverified-import`. «Опасный» режим значительно ускорит процесс загрузки.
| `--batch`                         | Используется для сохранения всех данных на диск на непрерывной основе (значение, используемое по умолчанию, — `1`) или, возможно, для хранения всех данных в ОЗУ и в конечном счёте их сохранения на диск (значение, используемое по умолчанию, — `0`). Отсутствие пакетирования эффективно только при отсутствии верификации (`--dangerous-unverified-import`). См. также `--batch-size`.   
| `--batch-size`                    | Частота сохранения данных на диск, выраженная в блоках. По умолчанию значение составляет `5000` блоков (при наличии верификации) или `20000` блоков (при отсутствии верификации). Большие пакеты обрабатываются быстрее, но требуют больше ОЗУ.
| `--resume`                        | Восстановление с текущей высоты, если исходящая база данных уже существует (значение, используемое по умолчанию, — `1`). Если изменить значение на `--resume=0`, измениться следующее — существующие блоки будут пропущены, и процесс возобновится.

## Ссылки

* [https://github.com/monero-project/monero/tree/master/src/blockchain_utilities](https://github.com/monero-project/monero/tree/master/src/blockchain_utilities)
